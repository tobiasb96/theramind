<!-- Context-aware input widget that adapts based on document type -->
<div class="multimodal-input-widget bg-white rounded-lg shadow p-6 mb-6"
     data-document-type="{{ document_type }}"
     data-document-id="{{ document.pk }}">

  <!-- Context-Aware Header -->
  <div class="flex justify-between items-center mb-4">
    <h2 class="text-lg font-semibold text-gray-900">
      {% if document_type == 'session' %}
        Sitzungsmaterial
      {% else %}
        Berichtsmaterial
      {% endif %}
    </h2>

    <!-- Context-Aware Action Buttons -->
    <div class="flex space-x-2">
      <!-- Audio button (always first, primary for sessions) -->
      <button type="button"
              class="{% if document_type == 'session' %}px-4 py-2.5 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700{% else %}text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2.5 text-center{% endif %} inline-flex items-center"
              data-modal-target="audio-input-modal"
              data-modal-toggle="audio-input-modal">
        <svg class="w-4 h-4 mr-2"
             fill="none"
             stroke="currentColor"
             viewBox="0 0 24 24">
          <path stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"/>
        </svg>
        Audio hinzufügen
      </button>
      
      <!-- Document button (always second, primary for reports) -->
      <button type="button"
              class="{% if document_type == 'report' %}px-4 py-2.5 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700{% else %}text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2.5 text-center{% endif %} inline-flex items-center"
              data-modal-target="document-input-modal"
              data-modal-toggle="document-input-modal">
        <svg class="w-4 h-4 mr-2"
             fill="none"
             stroke="currentColor"
             viewBox="0 0 24 24">
          <path stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
        </svg>
        Dokument hinzufügen
      </button>
    </div>
  </div>

  <!-- Input Display -->
  {% include 'partials/input_display.html' %}

</div>

<!-- Include the unified modals -->
{% include 'partials/audio_input_modal.html' %}
{% include 'partials/document_input_modal.html' %} 